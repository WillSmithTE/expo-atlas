{"version":3,"file":"useMetroBundlePlugin.js","sourceRoot":"","sources":["../../src/useMetroBundlePlugin.ts"],"names":[],"mappings":";;;AAAA,0CAAgF;AAChF,+BAAkC;AAElC,SAAgB,oBAAoB;IAClC,IAAM,MAAM,GAAG,IAAA,kCAAuB,EAAC,qBAAqB,CAAC,CAAC;IAE9D,IAAA,iBAAS,EAAC;QACR,IAAM,aAAa,GAAwB,EAAE,CAAC;QAE9C,aAAa,CAAC,IAAI,CAChB,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,kBAAkB,CAAC,MAAM,EAAE,UAAC,IAAI;YACtC,KAAK,CAAC,6BAAsB,IAAI,CAAC,IAAI,CAAE,CAAC,CAAC;QAC3C,CAAC,CAAC,CACH,CAAC;QACF,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,WAAW,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QAE7C,OAAO;YACL,KAA2B,UAAa,EAAb,+BAAa,EAAb,2BAAa,EAAb,IAAa,EAAE;gBAArC,IAAM,YAAY,sBAAA;gBACrB,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,MAAM,EAAE,CAAC;aACxB;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;AACf,CAAC;AAnBD,oDAmBC","sourcesContent":["import { useDevToolsPluginClient, type EventSubscription } from 'expo/devtools';\nimport { useEffect } from 'react';\n\nexport function useMetroBundlePlugin() {\n  const client = useDevToolsPluginClient('metro-bundle-plugin');\n\n  useEffect(() => {\n    const subscriptions: EventSubscription[] = [];\n\n    subscriptions.push(\n      client?.addMessageListener('ping', (data) => {\n        alert(`Received ping from ${data.from}`);\n      })\n    );\n    client?.sendMessage('ping', { from: 'app' });\n\n    return () => {\n      for (const subscription of subscriptions) {\n        subscription?.remove();\n      }\n    };\n  }, [client]);\n}\n"]}